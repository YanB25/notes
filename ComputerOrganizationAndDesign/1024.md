###课堂笔记
####cache
1. 命中率
$$H = \frac{N_1}{N_1+N_2}$$
N1访问M1的次数
N2访问M2的次数
失效律$$1-H$$
2. 平均访问时间
$$t_A = HT_{A1} + (1-H)(T_{A1}+T_M)$$
####两个层次
1. cache - 主存
    1. 弥补主存速度不足
    2. 硬件实现
    2. 几比一
    1. 几十字节（页）
    1. 直接访问
    1. 失效时CPU不切换
2. 主存 - 辅存（外源）
    1. 加大容量
    1. 主要软件实现
    1. 几百比一
    1. 几百到几千字节
    1. 均通过第一级
    1. 切换到其他线程
####四个规则
1. 映像规则
当把一个块调入高一层（靠近CPU)存储器时，可以放在哪些位置上
    1. 全相连映像
    任何一块可以被放置到cache的任何位置
    1. 直接映像
    每一个块只能放置到Cache中的唯一一个位置（利用率低，冲突率高，实现最简单）
    1. 组相连映射
    全相连和直接的折中。组间直接相连映像，组内全相连映像
1. 查找算法
    1. 通过查找目录表来实现
1. 替换算法
    1. 
1. 写策略